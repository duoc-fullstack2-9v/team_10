/* ===== HOTFIX PARA COMPATIBILIDAD macOS/Windows ===== */
/* Solución simplificada para modo oscuro automático de macOS */

/* IMPORTANTE: Prevenir cambios automáticos de modo oscuro */
html {
  color-scheme: light !important;
}

/* Forzar colores básicos sin interferir con el renderizado */
body, html {
  color: #333333 !important;
  background-color: #F7F7F7 !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Títulos principales - Fuentes más robustas */
h1, h2, h3, h4, h5, h6 {
  color: #333333 !important;
  font-weight: bold !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  text-shadow: 0.5px 0.5px 0.5px rgba(0,0,0,0.1) !important;
}

/* Párrafos y texto general */
p, span, div, label {
  color: #666666 !important;
}

/* Links */
a {
  color: #2E8B57 !important;
}

/* Inputs y formularios */
input, select, textarea {
  color: #333333 !important;
  background-color: #ffffff !important;
  border: 1px solid #bdbdbd !important;
}

/* Botones - FORZAR COLORES ESPECÍFICOS */
button {
  color: #ffffff !important;
  background-color: #4CAF50 !important;
}

/* Botones específicos de la tienda */
.shop-now-button {
  background-color: #2E8B57 !important;
  color: #ffffff !important;
  border: none !important;
}

.shop-now-button:hover {
  background-color: #236B43 !important;
  color: #ffffff !important;
}

.add-to-cart-button {
  background-color: #2E8B57 !important;
  color: #ffffff !important;
  border: none !important;
}

.add-to-cart-button:hover {
  background-color: #236B43 !important;
  color: #ffffff !important;
}

/* Navegación */
.navbar, .navbar * {
  color: #333333 !important;
}

.navbar a {
  color: #333333 !important;
}

/* Panel de administración */
.admin-panel, .admin-panel * {
  color: #333333 !important;
}

/* Tablas */
table, table * {
  color: #333333 !important;
}

thead tr {
  background-color: #34495e !important;
  color: #ffffff !important;
}

thead tr * {
  color: #ffffff !important;
}

/* Cards y contenedores */
.card, .form-container {
  background-color: #ffffff !important;
  color: #333333 !important;
}

/* Forzar propiedades de fuente consistentes */
* {
  font-optical-sizing: initial !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Fix específico para macOS */
@media screen and (-webkit-min-device-pixel-ratio: 1) {
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif !important;
  }
}

/* Fix específico para Windows */
@media screen and (min-resolution: 1dppx) {
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
  }
}

/* Asegurar contraste en elementos interactivos */
button:hover, button:focus,
input:hover, input:focus,
select:hover, select:focus {
  color: #333333 !important;
  background-color: #f0f0f0 !important;
}

/* Botones primarios */
button[type="submit"], .btn-primary {
  background-color: #4CAF50 !important;
  color: #ffffff !important;
}

/* FORZAR TODOS LOS TIPOS DE BOTÓN */
button, input[type="button"], input[type="submit"], .button, [role="button"] {
  background-color: #4CAF50 !important;
  color: #ffffff !important;
  border: 1px solid #4CAF50 !important;
}

/* Sobrescribir variables CSS que causan problemas */
:root {
  --accent: #2E8B57 !important;
  --primary-color: #2E8B57 !important;
  --button-bg: #2E8B57 !important;
  --button-text: #ffffff !important;
}

/* Específicamente para elementos con var(--accent) */
[style*="var(--accent)"], *[style*="background-color: var(--accent)"] {
  background-color: #2E8B57 !important;
  color: #ffffff !important;
}

/* Mensajes de error y éxito */
.error-message {
  color: #d32f2f !important;
  background-color: #ffebee !important;
}

.success-message {
  color: #2e7d32 !important;
  background-color: #e8f5e8 !important;
}

/* ===== PREVENCIÓN MODO OSCURO AUTOMÁTICO macOS ===== */
/* Forzar modo claro independientemente de la hora del sistema */

/* Detectar modo oscuro y sobrescribir */
@media (prefers-color-scheme: dark) {
  html, body {
    color-scheme: light !important;
    color: #333333 !important;
    background-color: #F7F7F7 !important;
  }
  
  /* Todos los elementos de texto en modo oscuro forzado a claro */
  *, *::before, *::after {
    color: inherit !important;
    background-color: inherit !important;
  }
  
  /* Asegurar que inputs sean visibles */
  input, select, textarea, button {
    color: #333333 !important;
    background-color: #ffffff !important;
    border: 1px solid #bdbdbd !important;
  }
}

/* ===== FUENTES ANTI-HORARIO para macOS ===== */
/* Prevenir cambios de renderizado por hora del sistema */

body, html, * {
  /* Deshabilitar optimizaciones automáticas de macOS */
  font-synthesis: none !important;
  font-variant-ligatures: none !important;
  font-variant-numeric: normal !important;
  
  /* Forzar renderizado consistente */
  font-display: block !important;
  text-size-adjust: 100% !important;
  -webkit-text-size-adjust: 100% !important;
  
  /* Prevenir variaciones de fuente dinámicas */
  font-variation-settings: normal !important;
  
  /* Asegurar contraste mínimo siempre */
  text-shadow: 0.1px 0.1px 0.1px rgba(0,0,0,0.05) !important;
}

/* Específico para elementos críticos */
.navbar, .admin-panel, .login-form, .registro-form {
  font-optical-sizing: none !important;
  -webkit-font-feature-settings: "kern" 1, "liga" 0 !important;
  font-feature-settings: "kern" 1, "liga" 0 !important;
}

/* ===== CLASE FORZADA POR JAVASCRIPT ===== */
.force-light-mode,
html.force-light-mode,
body.force-light-mode,
.force-light-mode * {
  color-scheme: light !important;
  color: #333333 !important;
  background-color: #F7F7F7 !important;
  
  /* Asegurar que ningún elemento herede colores oscuros */
  --text-color: #333333 !important;
  --bg-color: #F7F7F7 !important;
}

/* Elementos específicos en modo forzado */
.force-light-mode input,
.force-light-mode select,
.force-light-mode textarea {
  color: #333333 !important;
  background-color: #ffffff !important;
  border-color: #bdbdbd !important;
}

.force-light-mode button,
.force-light-mode .shop-now-button,
.force-light-mode .add-to-cart-button {
  color: #ffffff !important;
  background-color: #2E8B57 !important;
  border: 1px solid #2E8B57 !important;
}

.force-light-mode button:hover,
.force-light-mode .shop-now-button:hover,
.force-light-mode .add-to-cart-button:hover {
  background-color: #236B43 !important;
  color: #ffffff !important;
}

.force-light-mode .navbar * {
  color: #333333 !important;
}

/* ===== EMERGENCIA: BOTONES INVISIBLES ===== */
/* Máxima prioridad para botones que no se ven */

/* TODOS los elementos que actúan como botón */
button, 
input[type="button"], 
input[type="submit"], 
.button,
.btn,
.shop-now-button,
.add-to-cart-button,
a[class*="button"],
*[onclick],
[role="button"] {
  background-color: #2E8B57 !important;
  color: #ffffff !important;
  border: 1px solid #2E8B57 !important;
  text-shadow: none !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Estados hover para todos los botones */
button:hover, 
input[type="button"]:hover, 
input[type="submit"]:hover, 
.button:hover,
.btn:hover,
.shop-now-button:hover,
.add-to-cart-button:hover,
a[class*="button"]:hover,
*[onclick]:hover,
[role="button"]:hover {
  background-color: #236B43 !important;
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Sobrescribir cualquier color heredado */
* button,
* .shop-now-button,
* .add-to-cart-button {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Debug: agregar borde temporal para identificar elementos invisibles */
.debug-border * {
  border: 1px solid red !important;
}

/* Forzar visibility solo cuando sea necesario */
.hidden-element {
  visibility: visible !important;
  opacity: 1 !important;
}